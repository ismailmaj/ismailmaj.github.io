!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("react-simple-code-editor"),require("prism-react-renderer"),require("buble"),require("core-js/features/object/assign")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","react-simple-code-editor","prism-react-renderer","buble","core-js/features/object/assign"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ReactLive={},e.React,null,e.Editor$1,e.Prism,e.Buble,e.assign)}(this,(function(e,t,r,n,o,c,i){"use strict";function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=u(t),l=u(n),s=u(o),p=u(i);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(null==e)return{};var r,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var b={plain:{color:"#C5C8C6",backgroundColor:"#1D1F21"},styles:[{types:["prolog","comment","doctype","cdata"],style:{color:"hsl(30, 20%, 50%)"}},{types:["property","tag","boolean","number","constant","symbol"],style:{color:"hsl(350, 40%, 70%)"}},{types:["attr-name","string","char","builtin","insterted"],style:{color:"hsl(75, 70%, 60%)"}},{types:["operator","entity","url","string","variable","language-css"],style:{color:"hsl(40, 90%, 60%)"}},{types:["deleted"],style:{color:"rgb(255, 85, 85)"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["regex","important"],style:{color:"#e90"}},{types:["atrule","attr-value","keyword"],style:{color:"hsl(350, 40%, 70%)"}},{types:["punctuation","symbol"],style:{opacity:"0.7"}}]},g=["style","theme","onChange"];function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(e){var r=t.useState({code:e.code||""}),n=r[0],c=r[1];t.useEffect((function(){n.prevCodeProp&&e.code!==n.prevCodeProp&&c({code:e.code,prevCodeProp:e.code})}),[e.code]);t.useEffect((function(){e.onChange&&e.onChange(n.code)}),[n.code]);var i=e.style,u=e.theme;e.onChange;var p=y(e,g),d=n.code,O=u&&"object"==typeof u.plain?u.plain:{};return a.default.createElement(l.default,f({value:d,padding:10,highlight:function(r){return a.default.createElement(s.default,{Prism:o.Prism,code:r,theme:e.theme||b,language:e.language},(function(e){var r=e.tokens,n=e.getLineProps,o=e.getTokenProps;return a.default.createElement(t.Fragment,null,r.map((function(e,t){return a.default.createElement("div",n({line:e,key:t}),e.map((function(e,t){return a.default.createElement("span",o({token:e,key:t}))})))})))}))},onValueChange:function(e){c({code:e})},style:v(v({whiteSpace:"pre",fontFamily:"monospace"},O),i)},p))},h=t.createContext({});function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w={assign:p.default},E=function(e,t){void 0===t&&(t={});var r=P(P({},t),{},{objectAssign:"_poly.assign",transforms:P({dangerousForOf:!0,dangerousTaggedTemplateString:!0},t.transforms)});return c.transform(e,r).code};function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,C(e,t)}var S=function(e,r){return function(t){function n(){return t.apply(this,arguments)||this}D(n,t);var o=n.prototype;return o.componentDidCatch=function(e){r(e)},o.render=function(){return"function"==typeof e?a.default.createElement(e,null):a.default.isValidElement(e)?e:null},n}(t.Component)};function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function k(e,t,r){return(k=x()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&C(o,r.prototype),o}).apply(null,arguments)}var L=function(e,t){var r=Object.keys(t),n=r.map((function(e){return t[e]}));return k(Function,["_poly","React"].concat(r,[e])).apply(void 0,[w,a.default].concat(n))};function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q=function(e,t){var r=e.code,n=void 0===r?"":r,o=e.scope,c=void 0===o?{}:o,i=e.transpileOptions,u=n.trim().replace(/;$/,""),a=E("return ("+u+")",i).trim();return S(L(a,c),t)},F=function(e,t,r){var n=e.code,o=void 0===n?"":n,c=e.scope,i=void 0===c?{}:c,u=e.transpileOptions;if(!/render\s*\(/.test(o))return r(new SyntaxError("No-Inline evaluations must call `render`."));L(E(o,u),_(_({},i),{},{render:function(e){void 0===e?r(new SyntaxError("`render` must be called with valid JSX.")):t(S(e,r))}}))};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e){var r=e.children,n=e.code,o=e.language,c=e.theme,i=e.disabled,u=e.scope,l=e.transformCode,s=e.transpileOptions,p=e.noInline,f=void 0!==p&&p,d=t.useState({error:void 0,element:void 0}),y=d[0],b=d[1];function g(e){var t={code:l?l(e):e,scope:u,transpileOptions:s},r=function(e){return b({error:e.toString(),element:void 0})},n=function(e){return b({error:void 0,element:e})};try{f?(b({error:void 0,element:null}),F(t,n,r)):n(q(t,r))}catch(e){r(e)}}t.useEffect((function(){g(n)}),[n,u,f,l,s]);return a.default.createElement(h.Provider,{value:B(B({},y),{},{code:n,language:o,theme:c,disabled:i,onError:function(e){return b({error:e.toString()})},onChange:function(e){return g(e)}})},r)}I.defaultProps={code:"",noInline:!1,language:"jsx",disabled:!1};var A=["Component"];function V(e){var r=e.Component,n=y(e,A),o=t.useContext(h).element;return a.default.createElement(r,n,o?a.default.createElement(o,null):null)}V.defaultProps={Component:"div"},e.Editor=m,e.LiveContext=h,e.LiveEditor=function(e){var r=t.useContext(h),n=r.code,o=r.language,c=r.theme,i=r.disabled,u=r.onChange;return a.default.createElement(m,f({theme:c,code:n,language:o,disabled:i,onChange:u},e))},e.LiveError=function(e){var r=t.useContext(h).error;return r?a.default.createElement("pre",e,r):null},e.LivePreview=V,e.LiveProvider=I,e.generateElement=q,e.renderElementAsync=F,e.withLive=function(e){return function(t){function r(){return t.apply(this,arguments)||this}return D(r,t),r.prototype.render=function(){var t=this;return a.default.createElement(h.Consumer,null,(function(r){return a.default.createElement(e,f({live:r},t.props))}))},r}(t.Component)},Object.defineProperty(e,"__esModule",{value:!0})}));
